{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zmka2\\\\Python\\\\react-fail\\\\shinshu-fesnav\\\\ykoyama\\\\nagano-festival-app\\\\src\\\\AccountPage.js\",\n  _s = $RefreshSig$();\n// AccountPage.js\nimport React, { useState, useEffect } from \"react\";\nimport Favorite from \"./Favorite\";\n\n// Festival データは FestivalPage.js と同じ\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst festivals = [{\n  id: 1,\n  name: \"安曇野花火\"\n}, {\n  id: 2,\n  name: \"上田わっしょい\"\n}, {\n  id: 3,\n  name: \"信州上田大花火大会\"\n}, {\n  id: 4,\n  name: \"夏まつり松本ぼんぼん\"\n}, {\n  id: 5,\n  name: \"真田まつり\"\n}];\nexport default function AccountPage() {\n  _s();\n  const [ratings, setRatings] = useState({});\n  const [favorites, setFavorites] = useState({});\n  const [comments, setComments] = useState({});\n  const currentUser = localStorage.getItem(\"currentUser\");\n  useEffect(() => {\n    if (!currentUser) return;\n    const allRatings = JSON.parse(localStorage.getItem(\"festivalRatings\")) || {};\n    const allFavorites = JSON.parse(localStorage.getItem(\"festivalFavorites\")) || {};\n    const allComments = JSON.parse(localStorage.getItem(\"festivalComments\")) || {};\n\n    // 現状のFestivalPage.js はユーザー共通の localStorage\n    // ここでは全ユーザー分のデータを currentUser と関連付けて表示する想定\n    setRatings(allRatings);\n    setFavorites(allFavorites);\n    setComments(allComments);\n  }, [currentUser]);\n  if (!currentUser) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u30ED\\u30B0\\u30A4\\u30F3\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 28\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"2rem\",\n      fontFamily: \"sans-serif\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: [currentUser, \"\\u3055\\u3093\\u306E\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u304A\\u6C17\\u306B\\u5165\\u308A\\u306E\\u304A\\u796D\\u308A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), festivals.filter(f => favorites[f.id]).length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u304A\\u6C17\\u306B\\u5165\\u308A\\u306F\\u307E\\u3060\\u3042\\u308A\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: festivals.filter(f => favorites[f.id]).map(f => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [f.name, \" \", /*#__PURE__*/_jsxDEV(Favorite, {\n            selected: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 28\n          }, this)]\n        }, f.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u8A55\\u4FA1\\u3057\\u305F\\u304A\\u796D\\u308A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), Object.keys(ratings).length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u8A55\\u4FA1\\u306F\\u307E\\u3060\\u3042\\u308A\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: festivals.filter(f => ratings[f.id] > 0).map(f => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [f.name, \" \\u2014 \", ratings[f.id], \" / 5\"]\n        }, f.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u3057\\u305F\\u304A\\u796D\\u308A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), Object.keys(comments).length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u306F\\u307E\\u3060\\u3042\\u308A\\u307E\\u305B\\u3093\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this) : festivals.map(f => {\n        var _comments$f$id;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: f.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: (_comments$f$id = comments[f.id]) === null || _comments$f$id === void 0 ? void 0 : _comments$f$id.map((c, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: c.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 21\n              }, this), \" (\", c.date, \"): \", c.text]\n            }, i, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, f.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(AccountPage, \"3e9q+NhzNyeu5gv20r4OEr2L/Rw=\");\n_c = AccountPage;\nvar _c;\n$RefreshReg$(_c, \"AccountPage\");","map":{"version":3,"names":["React","useState","useEffect","Favorite","jsxDEV","_jsxDEV","festivals","id","name","AccountPage","_s","ratings","setRatings","favorites","setFavorites","comments","setComments","currentUser","localStorage","getItem","allRatings","JSON","parse","allFavorites","allComments","children","fileName","_jsxFileName","lineNumber","columnNumber","style","padding","fontFamily","filter","f","length","map","selected","Object","keys","_comments$f$id","c","i","date","text","_c","$RefreshReg$"],"sources":["C:/Users/zmka2/Python/react-fail/shinshu-fesnav/ykoyama/nagano-festival-app/src/AccountPage.js"],"sourcesContent":["// AccountPage.js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Favorite from \"./Favorite\";\r\n\r\n// Festival データは FestivalPage.js と同じ\r\nconst festivals = [\r\n  { id: 1, name: \"安曇野花火\" },\r\n  { id: 2, name: \"上田わっしょい\" },\r\n  { id: 3, name: \"信州上田大花火大会\" },\r\n  { id: 4, name: \"夏まつり松本ぼんぼん\" },\r\n  { id: 5, name: \"真田まつり\" }\r\n];\r\n\r\nexport default function AccountPage() {\r\n  const [ratings, setRatings] = useState({});\r\n  const [favorites, setFavorites] = useState({});\r\n  const [comments, setComments] = useState({});\r\n  const currentUser = localStorage.getItem(\"currentUser\");\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) return;\r\n\r\n    const allRatings = JSON.parse(localStorage.getItem(\"festivalRatings\")) || {};\r\n    const allFavorites = JSON.parse(localStorage.getItem(\"festivalFavorites\")) || {};\r\n    const allComments = JSON.parse(localStorage.getItem(\"festivalComments\")) || {};\r\n\r\n    // 現状のFestivalPage.js はユーザー共通の localStorage\r\n    // ここでは全ユーザー分のデータを currentUser と関連付けて表示する想定\r\n    setRatings(allRatings);\r\n    setFavorites(allFavorites);\r\n    setComments(allComments);\r\n  }, [currentUser]);\r\n\r\n  if (!currentUser) return <p>ログインしてください</p>;\r\n\r\n  return (\r\n    <div style={{ padding: \"2rem\", fontFamily: \"sans-serif\" }}>\r\n      <h1>{currentUser}さんのアカウント</h1>\r\n\r\n      <section>\r\n        <h2>お気に入りのお祭り</h2>\r\n        {festivals.filter(f => favorites[f.id]).length === 0 ? (\r\n          <p>お気に入りはまだありません</p>\r\n        ) : (\r\n          <ul>\r\n            {festivals\r\n              .filter(f => favorites[f.id])\r\n              .map(f => (\r\n                <li key={f.id}>\r\n                  {f.name} <Favorite selected={true} />\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        )}\r\n      </section>\r\n\r\n      <section>\r\n        <h2>評価したお祭り</h2>\r\n        {Object.keys(ratings).length === 0 ? (\r\n          <p>評価はまだありません</p>\r\n        ) : (\r\n          <ul>\r\n            {festivals\r\n              .filter(f => ratings[f.id] > 0)\r\n              .map(f => (\r\n                <li key={f.id}>\r\n                  {f.name} — {ratings[f.id]} / 5\r\n                </li>\r\n              ))}\r\n          </ul>\r\n        )}\r\n      </section>\r\n\r\n      <section>\r\n        <h2>コメントしたお祭り</h2>\r\n        {Object.keys(comments).length === 0 ? (\r\n          <p>コメントはまだありません</p>\r\n        ) : (\r\n          festivals.map(f => (\r\n            <div key={f.id}>\r\n              <h3>{f.name}</h3>\r\n              <ul>\r\n                {comments[f.id]?.map((c, i) => (\r\n                  <li key={i}>\r\n                    <strong>{c.name}</strong> ({c.date}): {c.text}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n            </div>\r\n          ))\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}